id: no-emojis
message: "Emojis are not allowed in code. Use descriptive text instead."
severity: error
language: rust
note: |
  Emojis can cause issues with terminal rendering, log parsing, and accessibility.
  
  To disable this rule:
  - Line: add `// ast-grep-ignore: no-emojis` on the line before
  - Block: wrap code with `// ast-grep-ignore-start` and `// ast-grep-ignore-end`
rule:
  kind: string_content
  pattern: $CONTENT
  regex: "[ğŸŒ€-ğŸ§¿â˜€-â›¿âœ€-â¿ğŸ˜€-ğŸ™ğŸš€-ğŸ›¿]"
fix: $CLEANED
transform:
  CLEANED:
    replace:
      source: $CONTENT
      replace: "[ğŸŒ€-ğŸ§¿â˜€-â›¿âœ€-â¿ğŸ˜€-ğŸ™ğŸš€-ğŸ›¿]\\s?"
      by: ""
ignores:
  - "**/test_fixtures/**"
  - "**/testdata/**"
