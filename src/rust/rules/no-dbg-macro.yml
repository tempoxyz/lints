id: no-dbg-macro
message: "Remove dbg!() macro before committing. Use tracing or proper logging."
severity: error
language: rust
note: |
  The dbg!() macro is for quick debugging only and should not be committed.
  It outputs to stderr and is not suitable for production.
  
  Use instead:
  - `tracing::debug!()` for structured logging
  - `log::debug!()` if using log crate
  - Remove entirely if not needed
  
  Note: The auto-fix wraps the result in parentheses to preserve tuple semantics
  for multi-argument dbg! calls. Review and simplify if needed.
  
  To disable this rule:
  - Line: add `// ast-grep-ignore: no-dbg-macro` on the line before
rule:
  pattern: dbg!($$$ARGS)
fix: ($$$ARGS)
